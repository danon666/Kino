<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CINEMAX</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="top-bar">
      <h1 class="logo">CINEMAX</h1>
      <nav class="top-nav">
        <span>üìç Szczecin</span>
        <a href="#">Logowanie</a>
        <a href="#">Rejestracja</a>
        <a href="#">Szukaj</a>
      </nav>
    </div>
    <div class="menu-bar">
      <a class="active" href="index.html">Repertuar</a>
      <a href="#">Zapowiedzi</a>
      <a href="#">Bar kinowy</a>
      <a href="#">Szko≈Çy</a>
      <a href="#">Rodziny</a>
      <a href="#">Wydarzenia</a>
    </div>
  </header>

  <main>
    <div id="film">
        <img id="film-img" src="" alt="Film" />
        <p id="film-sala">Sala 4</p>
        <p id="film-godzina">12:30</p>
        <p>napisy 2D</p>
        <div id="change_date">
            <p style="color:black;">Zmie≈Ñ datƒô i godzinƒô</p>
        </div>
    </div>
    <div class="cinema-container">
        <div class="screen">
            <span>Ekran</span>
        </div>
        <div class="seats">
            <table>
                <tbody>
                    <tr>
                        <td class="row-label">A</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">B</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">C</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">D</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">E</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">F</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">G</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                    <tr>
                        <td class="row-label">H</td>
                        <td><button class="seat">1</button></td>
                        <td><button class="seat">2</button></td>
                        <td><button class="seat">3</button></td>
                        <td><button class="seat">4</button></td>
                        <td><button class="seat">5</button></td>
                        <td><button class="seat">6</button></td>
                        <td><button class="seat">7</button></td>
                        <td><button class="seat">8</button></td>
                        <td><button class="seat">9</button></td>
                        <td><button class="seat">10</button></td>
                        <td><button class="seat">11</button></td>
                        <td><button class="seat">12</button></td>
                        <td><button class="seat">13</button></td>
                        <td><button class="seat">14</button></td>
                        <td><button class="seat">15</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <a href="summary.html">
    <div id="buy-tickets">
        <p style="color:black;">Kup bilety</p>
        <p style="color:black;">Wybrane miejsa:</p>
    </div>
    </a>
  </main>

    <script>
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const films = {
      1: {
        img: "zdj1.jpg"
      },
      2: {
        img: "zdj2.png"
      },
      3: {
        img: "zdj3.jpg"
      },
      4: {
        img: "zdj4.png"
      }
    };

    const filmId = getQueryParam('id');
    const sala = getQueryParam('sala');
    const godzina = getQueryParam('godzina');

    const film = films[filmId];

    // Ustawienie obrazu filmu i informacji o sali i godzinie
    if (film) {
      document.getElementById('film-img').src = film.img;
    }
    document.getElementById('film-sala').textContent = "Sala: " + sala;
    document.getElementById('film-godzina').textContent = "Godzina: " + godzina;

    // Obs≈Çuga wyboru miejsc
    document.querySelectorAll('.seat').forEach(seat => {
      seat.addEventListener('click', (e) => {
        e.preventDefault();
        seat.classList.toggle('selected');
        updateSelectedSeats();
      });
    });

    function updateSelectedSeats() {
      const selectedSeats = Array.from(document.querySelectorAll('.seat.selected'))
        .map(seat => {
          const row = seat.closest('tr').querySelector('.row-label').textContent;
          const number = seat.textContent;
          return row + number;
        });

      const summaryElement = document.querySelector('#buy-tickets p:nth-of-type(2)');
      if (selectedSeats.length > 0) {
        summaryElement.textContent = 'Wybrane miejsca: ' + selectedSeats.join(', ');
      } else {
        summaryElement.textContent = 'Wybrane miejsca:';
      }

      localStorage.setItem('selectedSeats', JSON.stringify(selectedSeats));
      localStorage.setItem('filmSala', sala);
      localStorage.setItem('filmGodzina', godzina);
      localStorage.setItem('filmId', filmId);
    }
  </script>
  </body>
  </html>